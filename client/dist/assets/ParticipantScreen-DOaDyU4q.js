import{r as s,b as P,j as e,C as d,T as f,B as j}from"./index-CLFLJj7i.js";import{P as C}from"./ParticipantsList-CxYFs-Wn.js";import{u as S,A as y,S as T,P as b}from"./Pagination-TmjqAlHS.js";import"./TextField-Bfifr5H5.js";const w=()=>{const[n,c]=s.useState(1),[i,p]=s.useState(""),l=10,a=S(i,300),{data:r,error:o,isLoading:u}=P({page:n,limit:l,search:a}),g=t=>{c(t)},h=s.useCallback(t=>{p(t.target.value)},[]),m=s.useMemo(()=>r!=null&&r.participants?r.participants.filter(t=>a===""||t.name.toLowerCase().includes(a.toLowerCase())).sort((t,x)=>x.points-t.points):[],[r,a]);return u?e.jsx(d,{}):o?e.jsxs(y,{severity:"error",children:["Error: ",o.message]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h4",align:"center",gutterBottom:!0,children:"Participants"}),e.jsx(j,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",children:e.jsx(T,{value:i,onChange:h,placeholder:"Search Participants..."})}),e.jsx(C,{participants:m}),e.jsx(b,{page:n,totalPages:r.totalPages,onPageChange:g})]})};export{w as default};
