const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EditTeams-Dnacj7LZ.js","assets/index-BA-3FFcl.js","assets/index-BrHaHQut.css","assets/TeamList-DCpQu-jQ.js","assets/ListSkeleton-C4HUpWS9.js","assets/TextField-DhL4g0P5.js","assets/AddButton-D-tRKga0.js","assets/EditParticipants-qPS87Esw.js","assets/ParticipantsList-DxP66mQY.js","assets/FilterButton-B8aG2ugk.js","assets/EditPrograms-DpZvdaTw.js","assets/ProgramList-aU_zAF4j.js","assets/ProgramDetails-CUvxlMRM.js","assets/ErrorScreen-BbsD0O6R.js"])))=>i.map(i=>d[i]);
import{r as a,c as E,d as f,e as j,j as t,C as T,T as u,f as m,s as L,g as P,O as A,_ as d,h as S,L as w,R as z,i as e,N as x}from"./index-BA-3FFcl.js";import{T as h}from"./TextField-DhL4g0P5.js";const R=()=>{const[o,s]=a.useState(""),[r,l]=a.useState(""),[n,i]=a.useState(""),[g]=E(),v=f(),_=j(),y=async c=>{c.preventDefault(),i("");try{const p=await g({email:o,password:r}).unwrap();v(L({token:p.token})),_("/admin/")}catch(p){console.error("Failed to login: ",p),i("Invalid email or password")}};return t.jsx(T,{component:"main",maxWidth:"xs",children:t.jsxs("div",{style:{marginTop:"28px"},children:[t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx(u,{component:"h1",variant:"h5",align:"center",children:"Admin Login"})}),t.jsxs("form",{onSubmit:y,children:[t.jsx(h,{fullWidth:!0,id:"email",name:"email",type:"email",label:"Email address",variant:"outlined",margin:"normal",value:o,onChange:c=>s(c.target.value),required:!0}),t.jsx(h,{fullWidth:!0,id:"password",name:"password",type:"password",label:"Password",variant:"outlined",margin:"normal",value:r,onChange:c=>l(c.target.value),required:!0}),t.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{marginTop:"16px"},children:"Login"}),n&&t.jsx(u,{variant:"body2",color:"error",style:{marginTop:"16px"},children:n})]})]})})},b=()=>{const o=j(),s=P(),[r,l]=a.useState("");a.useEffect(()=>{const i=s.pathname.split("/").pop();s.pathname.includes("program-details")?l("programs"):l(i||"participants")},[s]);const n=i=>{l(i),o(`/admin/${i}`)};return t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex justify-around mb-2",children:[t.jsx(m,{size:"small",variant:r==="participants"?"contained":"outlined",color:"primary",onClick:()=>n("participants"),children:"Participants"}),t.jsx(m,{size:"small",variant:r==="teams"?"contained":"outlined",color:"primary",onClick:()=>n("teams"),children:"Teams"}),t.jsx(m,{size:"small",variant:r==="programs"?"contained":"outlined",color:"primary",onClick:()=>n("programs"),children:"Programs"})]}),t.jsx("div",{className:"mt-4",children:t.jsx(A,{})})]})},C=a.lazy(()=>d(()=>import("./EditTeams-Dnacj7LZ.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),D=a.lazy(()=>d(()=>import("./EditParticipants-qPS87Esw.js"),__vite__mapDeps([7,1,2,8,4,5,9,6]))),O=a.lazy(()=>d(()=>import("./EditPrograms-DpZvdaTw.js"),__vite__mapDeps([10,1,2,11,4,5,9,6]))),k=a.lazy(()=>d(()=>import("./ProgramDetails-CUvxlMRM.js"),__vite__mapDeps([12,1,2,5]))),N=a.lazy(()=>d(()=>import("./ErrorScreen-BbsD0O6R.js"),__vite__mapDeps([13,1,2]))),W=()=>S(s=>s.auth).auth?t.jsx("div",{children:t.jsx(a.Suspense,{fallback:t.jsx(w,{}),children:t.jsx(z,{children:t.jsxs(e,{path:"/",element:t.jsx(b,{}),children:[t.jsx(e,{index:!0,element:t.jsx(x,{to:"participants"})}),t.jsx(e,{path:"participants",element:t.jsx(D,{})}),t.jsx(e,{path:"teams",element:t.jsx(C,{})}),t.jsx(e,{path:"programs",element:t.jsx(O,{})}),t.jsx(e,{path:"program-details/:id",element:t.jsx(k,{})}),t.jsx(e,{path:"login",element:t.jsx(x,{to:"/admin/participants"})}),t.jsx(e,{path:"*",element:t.jsx(N,{isAdmin:!0})})]})})})}):t.jsx(R,{});export{W as default};
