const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EditTeams-CFpZVGgh.js","assets/index-C23OQssH.js","assets/index-BrHaHQut.css","assets/useDebounce-COy_CiWt.js","assets/TextField-D88AsIEZ.js","assets/AddButton-C02k6WTA.js","assets/EditParticipants-DKm_QATU.js","assets/ParticipantsList-D4NrFqKP.js","assets/FilterButton-BO44b7Rr.js","assets/EditPrograms-CedaH40U.js","assets/ProgramList-BWmXOUH4.js","assets/ProgramDetails-dz_TDRrZ.js","assets/ErrorScreen-DSR5Mp0q.js"])))=>i.map(i=>d[i]);
import{r as t,c as E,d as f,e as j,j as a,f as T,T as u,a as m,s as L,g as P,O as A,_ as d,h as S,L as w,R as z,i as e,N as x}from"./index-C23OQssH.js";import{T as h}from"./TextField-D88AsIEZ.js";const R=()=>{const[o,s]=t.useState(""),[r,l]=t.useState(""),[n,i]=t.useState(""),[g]=E(),v=f(),_=j(),y=async c=>{c.preventDefault(),i("");try{const p=await g({email:o,password:r}).unwrap();v(L({token:p.token})),_("/admin/")}catch(p){console.error("Failed to login: ",p),i("Invalid email or password")}};return a.jsx(T,{component:"main",maxWidth:"xs",children:a.jsxs("div",{style:{marginTop:"28px"},children:[a.jsx("div",{style:{marginBottom:"12px"},children:a.jsx(u,{component:"h1",variant:"h5",align:"center",children:"Admin Login"})}),a.jsxs("form",{onSubmit:y,children:[a.jsx(h,{fullWidth:!0,id:"email",name:"email",type:"email",label:"Email address",variant:"outlined",margin:"normal",value:o,onChange:c=>s(c.target.value),required:!0}),a.jsx(h,{fullWidth:!0,id:"password",name:"password",type:"password",label:"Password",variant:"outlined",margin:"normal",value:r,onChange:c=>l(c.target.value),required:!0}),a.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{marginTop:"16px"},children:"Login"}),n&&a.jsx(u,{variant:"body2",color:"error",style:{marginTop:"16px"},children:n})]})]})})},b=()=>{const o=j(),s=P(),[r,l]=t.useState("");t.useEffect(()=>{const i=s.pathname.split("/").pop();s.pathname.includes("program-details")?l("programs"):l(i||"participants")},[s]);const n=i=>{l(i),o(`/admin/${i}`)};return a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-around mb-2",children:[a.jsx(m,{size:"small",variant:r==="participants"?"contained":"outlined",color:"primary",onClick:()=>n("participants"),children:"Participants"}),a.jsx(m,{size:"small",variant:r==="teams"?"contained":"outlined",color:"primary",onClick:()=>n("teams"),children:"Teams"}),a.jsx(m,{size:"small",variant:r==="programs"?"contained":"outlined",color:"primary",onClick:()=>n("programs"),children:"Programs"})]}),a.jsx("div",{className:"mt-4",children:a.jsx(A,{})})]})},D=t.lazy(()=>d(()=>import("./EditTeams-CFpZVGgh.js"),__vite__mapDeps([0,1,2,3,4,5]))),O=t.lazy(()=>d(()=>import("./EditParticipants-DKm_QATU.js"),__vite__mapDeps([6,1,2,7,3,4,8,5]))),k=t.lazy(()=>d(()=>import("./EditPrograms-CedaH40U.js"),__vite__mapDeps([9,1,2,10,3,4,8,5]))),C=t.lazy(()=>d(()=>import("./ProgramDetails-dz_TDRrZ.js"),__vite__mapDeps([11,1,2,4]))),N=t.lazy(()=>d(()=>import("./ErrorScreen-DSR5Mp0q.js"),__vite__mapDeps([12,1,2]))),W=()=>S(s=>s.auth).auth?a.jsx("div",{children:a.jsx(t.Suspense,{fallback:a.jsx(w,{}),children:a.jsx(z,{children:a.jsxs(e,{path:"/",element:a.jsx(b,{}),children:[a.jsx(e,{index:!0,element:a.jsx(x,{to:"participants"})}),a.jsx(e,{path:"participants",element:a.jsx(O,{})}),a.jsx(e,{path:"teams",element:a.jsx(D,{})}),a.jsx(e,{path:"programs",element:a.jsx(k,{})}),a.jsx(e,{path:"program-details/:id",element:a.jsx(C,{})}),a.jsx(e,{path:"login",element:a.jsx(x,{to:"/admin/participants"})}),a.jsx(e,{path:"*",element:a.jsx(N,{isAdmin:!0})})]})})})}):a.jsx(R,{});export{W as default};
