const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EditTeams-DoEkl6GE.js","assets/index-Bwos-PtW.js","assets/index-BrHaHQut.css","assets/TeamList-CAWXK-zr.js","assets/useDebounce-CsfNDRW4.js","assets/TextField-2du2Hd6n.js","assets/AddButton-B-f6sdR1.js","assets/EditParticipants-BOCyatBq.js","assets/ParticipantsList-C1-dKLzn.js","assets/FilterButton-DD6J_JeR.js","assets/EditPrograms-Crf1GkFD.js","assets/ProgramList-CngSQA3L.js","assets/ProgramDetails-DxRbPfoa.js","assets/ErrorScreen-BsovpQKA.js"])))=>i.map(i=>d[i]);
import{r as t,d as E,e as f,f as j,j as a,g as T,T as u,a as m,s as L,h as P,O as A,_ as d,i as S,L as w,R as z,k as e,N as x}from"./index-Bwos-PtW.js";import{T as h}from"./TextField-2du2Hd6n.js";const R=()=>{const[o,s]=t.useState(""),[r,l]=t.useState(""),[n,i]=t.useState(""),[g]=E(),v=f(),_=j(),y=async c=>{c.preventDefault(),i("");try{const p=await g({email:o,password:r}).unwrap();v(L({token:p.token})),_("/admin/")}catch(p){console.error("Failed to login: ",p),i("Invalid email or password")}};return a.jsx(T,{component:"main",maxWidth:"xs",children:a.jsxs("div",{style:{marginTop:"28px"},children:[a.jsx("div",{style:{marginBottom:"12px"},children:a.jsx(u,{component:"h1",variant:"h5",align:"center",children:"Admin Login"})}),a.jsxs("form",{onSubmit:y,children:[a.jsx(h,{fullWidth:!0,id:"email",name:"email",type:"email",label:"Email address",variant:"outlined",margin:"normal",value:o,onChange:c=>s(c.target.value),required:!0}),a.jsx(h,{fullWidth:!0,id:"password",name:"password",type:"password",label:"Password",variant:"outlined",margin:"normal",value:r,onChange:c=>l(c.target.value),required:!0}),a.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{marginTop:"16px"},children:"Login"}),n&&a.jsx(u,{variant:"body2",color:"error",style:{marginTop:"16px"},children:n})]})]})})},b=()=>{const o=j(),s=P(),[r,l]=t.useState("");t.useEffect(()=>{const i=s.pathname.split("/").pop();s.pathname.includes("program-details")?l("programs"):l(i||"participants")},[s]);const n=i=>{l(i),o(`/admin/${i}`)};return a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-around mb-2",children:[a.jsx(m,{size:"small",variant:r==="participants"?"contained":"outlined",color:"primary",onClick:()=>n("participants"),children:"Participants"}),a.jsx(m,{size:"small",variant:r==="teams"?"contained":"outlined",color:"primary",onClick:()=>n("teams"),children:"Teams"}),a.jsx(m,{size:"small",variant:r==="programs"?"contained":"outlined",color:"primary",onClick:()=>n("programs"),children:"Programs"})]}),a.jsx("div",{className:"mt-4",children:a.jsx(A,{})})]})},k=t.lazy(()=>d(()=>import("./EditTeams-DoEkl6GE.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),D=t.lazy(()=>d(()=>import("./EditParticipants-BOCyatBq.js"),__vite__mapDeps([7,1,2,8,4,5,9,6]))),O=t.lazy(()=>d(()=>import("./EditPrograms-Crf1GkFD.js"),__vite__mapDeps([10,1,2,11,4,5,9,6]))),C=t.lazy(()=>d(()=>import("./ProgramDetails-DxRbPfoa.js"),__vite__mapDeps([12,1,2,5]))),N=t.lazy(()=>d(()=>import("./ErrorScreen-BsovpQKA.js"),__vite__mapDeps([13,1,2]))),W=()=>S(s=>s.auth).auth?a.jsx("div",{children:a.jsx(t.Suspense,{fallback:a.jsx(w,{}),children:a.jsx(z,{children:a.jsxs(e,{path:"/",element:a.jsx(b,{}),children:[a.jsx(e,{index:!0,element:a.jsx(x,{to:"participants"})}),a.jsx(e,{path:"participants",element:a.jsx(D,{})}),a.jsx(e,{path:"teams",element:a.jsx(k,{})}),a.jsx(e,{path:"programs",element:a.jsx(O,{})}),a.jsx(e,{path:"program-details/:id",element:a.jsx(C,{})}),a.jsx(e,{path:"login",element:a.jsx(x,{to:"/admin/participants"})}),a.jsx(e,{path:"*",element:a.jsx(N,{isAdmin:!0})})]})})})}):a.jsx(R,{});export{W as default};
