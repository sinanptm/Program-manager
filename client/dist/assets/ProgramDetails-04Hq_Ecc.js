import{g as E,d as _,s as L,ad as xt,r as g,l as k,_ as w,e as r,j as s,z as N,k as B,n as U,aA as vt,aB as V,h as ft,a7 as bt,f as yt,a2 as tt,ax as Ct,aC as et,T as b,aD as Pt,aE as nt,ab as jt,B as lt,af as st,L as dt,aF as It,aG as $t,aH as Nt,aI as at}from"./index-Y2TAvrbt.js";import{F as ot,I as it,S as rt}from"./TextField-B4VV8Oga.js";import{G as O}from"./Grid-BtkvXZmK.js";function Lt(t){return E("MuiCard",t)}_("MuiCard",["root"]);const Rt=["className","raised"],At=t=>{const{classes:e}=t;return B({root:["root"]},Lt,e)},St=L(xt,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),q=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiCard"}),{className:d,raised:i=!1}=o,l=w(o,Rt),n=r({},o,{raised:i}),c=At(n);return s.jsx(St,r({className:N(c.root,d),elevation:i?8:void 0,ref:a,ownerState:n},l))});function wt(t){return E("MuiCardContent",t)}_("MuiCardContent",["root"]);const Mt=["className","component"],Tt=t=>{const{classes:e}=t;return B({root:["root"]},wt,e)},kt=L("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Q=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiCardContent"}),{className:d,component:i="div"}=o,l=w(o,Mt),n=r({},o,{component:i}),c=Tt(n);return s.jsx(kt,r({as:i,className:N(c.root,d),ownerState:n,ref:a},l))}),Bt=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Gt=t=>{const{absolute:e,children:a,classes:o,flexItem:d,light:i,orientation:l,textAlign:n,variant:c}=t;return B({root:["root",e&&"absolute",c,i&&"light",l==="vertical"&&"vertical",d&&"flexItem",a&&"withChildren",a&&l==="vertical"&&"withChildrenVertical",n==="right"&&l!=="vertical"&&"textAlignRight",n==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},vt,o)},Ot=L("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.absolute&&e.absolute,e[a.variant],a.light&&e.light,a.orientation==="vertical"&&e.vertical,a.flexItem&&e.flexItem,a.children&&e.withChildren,a.children&&a.orientation==="vertical"&&e.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&e.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>r({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:U(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>r({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>r({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>r({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>r({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Ut=L("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.wrapper,a.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>r({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),J=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiDivider"}),{absolute:d=!1,children:i,className:l,component:n=i?"div":"hr",flexItem:c=!1,light:h=!1,orientation:C="horizontal",role:y=n!=="hr"?"separator":void 0,textAlign:P="center",variant:j="fullWidth"}=o,x=w(o,Bt),u=r({},o,{absolute:d,component:n,flexItem:c,light:h,orientation:C,role:y,textAlign:P,variant:j}),f=Gt(u);return s.jsx(Ot,r({as:n,className:N(f.root,l),role:y,ref:a,ownerState:u},x,{children:i?s.jsx(Ut,{className:f.wrapper,ownerState:u,children:i}):null}))});J.muiSkipListHighlight=!0;function Vt(t){return E("MuiListItem",t)}const T=_("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),_t=_("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Dt(t){return E("MuiListItemSecondaryAction",t)}_("MuiListItemSecondaryAction",["root","disableGutters"]);const Ft=["className"],Et=t=>{const{disableGutters:e,classes:a}=t;return B({root:["root",e&&"disableGutters"]},Dt,a)},zt=L("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.disableGutters&&e.disableGutters]}})(({ownerState:t})=>r({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),ct=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiListItemSecondaryAction"}),{className:d}=o,i=w(o,Ft),l=g.useContext(V),n=r({},o,{disableGutters:l.disableGutters}),c=Et(n);return s.jsx(zt,r({className:N(c.root,d),ownerState:n,ref:a},i))});ct.muiName="ListItemSecondaryAction";const Ht=["className"],qt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Qt=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters,!a.disablePadding&&e.padding,a.button&&e.button,a.hasSecondaryAction&&e.secondaryAction]},Yt=t=>{const{alignItems:e,button:a,classes:o,dense:d,disabled:i,disableGutters:l,disablePadding:n,divider:c,hasSecondaryAction:h,selected:C}=t;return B({root:["root",d&&"dense",!l&&"gutters",!n&&"padding",c&&"divider",i&&"disabled",a&&"button",e==="flex-start"&&"alignItemsFlexStart",h&&"secondaryAction",C&&"selected"],container:["container"]},Vt,o)},Jt=L("div",{name:"MuiListItem",slot:"Root",overridesResolver:Qt})(({theme:t,ownerState:e})=>r({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&r({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${_t.root}`]:{paddingRight:48}},{[`&.${T.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${T.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:U(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${T.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:U(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${T.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:U(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:U(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Kt=L("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),pt=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiListItem"}),{alignItems:d="center",autoFocus:i=!1,button:l=!1,children:n,className:c,component:h,components:C={},componentsProps:y={},ContainerComponent:P="li",ContainerProps:{className:j}={},dense:x=!1,disabled:u=!1,disableGutters:f=!1,disablePadding:I=!1,divider:v=!1,focusVisibleClassName:$,secondaryAction:p,selected:m=!1,slotProps:R={},slots:ut={}}=o,gt=w(o.ContainerProps,Ht),ht=w(o,qt),K=g.useContext(V),z=g.useMemo(()=>({dense:x||K.dense||!1,alignItems:d,disableGutters:f}),[d,K.dense,x,f]),H=g.useRef(null);ft(()=>{i&&H.current&&H.current.focus()},[i]);const M=g.Children.toArray(n),X=M.length&&bt(M[M.length-1],["ListItemSecondaryAction"]),D=r({},o,{alignItems:d,autoFocus:i,button:l,dense:z.dense,disabled:u,disableGutters:f,disablePadding:I,divider:v,hasSecondaryAction:X,selected:m}),Z=Yt(D),W=yt(H,a),F=ut.root||C.Root||Jt,G=R.root||y.root||{},A=r({className:N(Z.root,G.className,c),disabled:u},ht);let S=h||"li";return l&&(A.component=h||"div",A.focusVisibleClassName=N(T.focusVisible,$),S=Ct),X?(S=!A.component&&!h?"div":S,P==="li"&&(S==="li"?S="div":A.component==="li"&&(A.component="div")),s.jsx(V.Provider,{value:z,children:s.jsxs(Kt,r({as:P,className:N(Z.container,j),ref:W,ownerState:D},gt,{children:[s.jsx(F,r({},G,!tt(F)&&{as:S,ownerState:r({},D,G.ownerState)},A,{children:M})),M.pop()]}))})):s.jsx(V.Provider,{value:z,children:s.jsxs(F,r({},G,{as:S,ref:W},!tt(F)&&{ownerState:r({},D,G.ownerState)},A,{children:[M,p&&s.jsx(ct,{children:p})]}))})}),Xt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Zt=t=>{const{classes:e,inset:a,primary:o,secondary:d,dense:i}=t;return B({root:["root",a&&"inset",i&&"dense",o&&d&&"multiline"],primary:["primary"],secondary:["secondary"]},Pt,e)},Wt=L("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${et.primary}`]:e.primary},{[`& .${et.secondary}`]:e.secondary},e.root,a.inset&&e.inset,a.primary&&a.secondary&&e.multiline,a.dense&&e.dense]}})(({ownerState:t})=>r({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),mt=g.forwardRef(function(e,a){const o=k({props:e,name:"MuiListItemText"}),{children:d,className:i,disableTypography:l=!1,inset:n=!1,primary:c,primaryTypographyProps:h,secondary:C,secondaryTypographyProps:y}=o,P=w(o,Xt),{dense:j}=g.useContext(V);let x=c??d,u=C;const f=r({},o,{disableTypography:l,inset:n,primary:!!x,secondary:!!u,dense:j}),I=Zt(f);return x!=null&&x.type!==b&&!l&&(x=s.jsx(b,r({variant:j?"body2":"body1",className:I.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:x}))),u!=null&&u.type!==b&&!l&&(u=s.jsx(b,r({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},y,{children:u}))),s.jsxs(Wt,r({className:N(I.root,i),ownerState:f,ref:a},P,{children:[x,u]}))}),te={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ee=({open:t,handleClose:e,participants:a,currentWinners:o,onSave:d})=>{var y,P,j,x,u,f,I,v,$;const[i,l]=g.useState({firstPlace:((P=(y=o==null?void 0:o.firstPlace)==null?void 0:y.participant)==null?void 0:P.id)||"",secondPlace:((x=(j=o==null?void 0:o.secondPlace)==null?void 0:j.participant)==null?void 0:x.id)||"",thirdPlace:((f=(u=o==null?void 0:o.thirdPlace)==null?void 0:u.participant)==null?void 0:f.id)||""}),[n,c]=g.useState({firstPlace:((I=o==null?void 0:o.firstPlace)==null?void 0:I.points)||0,secondPlace:((v=o==null?void 0:o.secondPlace)==null?void 0:v.points)||0,thirdPlace:(($=o==null?void 0:o.thirdPlace)==null?void 0:$.points)||0}),[h]=nt(),C=async()=>{const p={firstPlace:{participant:i.firstPlace,points:n.firstPlace},secondPlace:{participant:i.secondPlace,points:n.secondPlace},thirdPlace:{participant:i.thirdPlace,points:n.thirdPlace}};await h(p),d(p),e()};return s.jsx(jt,{open:t,onClose:e,"aria-labelledby":"set-winner-modal-title","aria-describedby":"set-winner-modal-description",children:s.jsxs(lt,{sx:te,children:[s.jsx(b,{id:"set-winner-modal-title",variant:"h6",component:"h2",children:"Set Winners"}),["firstPlace","secondPlace","thirdPlace"].map(p=>s.jsxs("div",{children:[s.jsx(b,{variant:"subtitle1",children:`${p.charAt(0).toUpperCase()}${p.slice(1)}:`}),s.jsxs(ot,{fullWidth:!0,required:!0,margin:"normal",children:[s.jsx(it,{id:`${p}-participant-label`,children:"Participant"}),s.jsx(rt,{labelId:`${p}-participant-label`,id:`${p}-participant`,value:i[p],onChange:m=>l(R=>({...R,[p]:m.target.value})),label:"Participant",children:a.map((m,R)=>s.jsx(st,{value:m==null?void 0:m.id,children:m==null?void 0:m.name},(m==null?void 0:m.id)??R))})]}),s.jsxs(ot,{fullWidth:!0,required:!0,margin:"normal",children:[s.jsx(it,{id:`${p}-points-label`,children:"Points"}),s.jsx(rt,{labelId:`${p}-points-label`,id:`${p}-points`,value:n[p],onChange:m=>c(R=>({...R,[p]:m.target.value})),label:"Points",children:[...Array(101).keys()].map(m=>s.jsx(st,{value:m,children:m},m))})]})]},p)),s.jsx(dt,{variant:"contained",color:"primary",onClick:C,style:{marginTop:"16px"},children:"Save"})]})})},ie=()=>{const{id:t}=It(),{data:e,error:a,isLoading:o}=$t({id:t}),[d,i]=g.useState(!1),[l,n]=g.useState([]),[c,h]=g.useState({firstPlace:null,secondPlace:null,thirdPlace:null}),[C]=nt();if(o)return s.jsx(Nt,{});if(a)return s.jsxs("div",{children:["Error: ",a.message]});if(!(e!=null&&e.program))return s.jsx("div",{children:"No program data available"});const{name:y,category:P,status:j,type:x}=e.program,u=()=>{i(!0),n(e.program.participants),h({firstPlace:e.program.firstPlace||null,secondPlace:e.program.secondPlace||null,thirdPlace:e.program.thirdPlace||null})},f=()=>{i(!1)},I=async v=>{try{await C({id:t,winners:v})}catch($){console.log($)}};return s.jsxs(lt,{className:"max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg",children:[s.jsx(dt,{variant:"contained",color:"primary",onClick:u,className:"mb-6",children:"Set Winners"}),s.jsx(b,{variant:"h4",gutterBottom:!0,className:"text-center",children:y}),s.jsx(J,{className:"mb-6"}),s.jsxs(O,{container:!0,spacing:4,children:[s.jsx(O,{item:!0,xs:12,md:6,children:s.jsx(q,{className:"bg-gray-100 shadow-md",children:s.jsxs(Q,{children:[s.jsx(b,{variant:"h6",className:"text-gray-700",children:"Program Details"}),s.jsxs(b,{variant:"subtitle1",className:"text-gray-600",children:["Category: ",P]}),s.jsxs(b,{variant:"subtitle1",className:"text-gray-600",children:["Status: ",j]}),s.jsxs(b,{variant:"subtitle1",className:"text-gray-600",children:["Type: ",x]})]})})}),s.jsx(O,{item:!0,xs:12,md:6,children:s.jsx(q,{className:"bg-gray-100 shadow-md",children:s.jsxs(Q,{children:[s.jsx(b,{variant:"h6",className:"text-gray-700",children:"Participants"}),s.jsx(at,{children:e.program.participants.map((v,$)=>s.jsx(pt,{children:s.jsx(mt,{primary:v==null?void 0:v.name,secondary:`ID: ${v==null?void 0:v.id}`})},(v==null?void 0:v.id)??$))})]})})})]}),s.jsx(J,{className:"my-6"}),s.jsx(O,{container:!0,spacing:4,children:s.jsx(O,{item:!0,xs:12,children:s.jsx(q,{className:"bg-gray-100 shadow-md",children:s.jsxs(Q,{children:[s.jsx(b,{variant:"h6",className:"text-gray-700",children:"Winners"}),s.jsxs(at,{children:[Y("1st Place",e.program.firstPlace),Y("2nd Place",e.program.secondPlace),Y("3rd Place",e.program.thirdPlace)]})]})})})}),s.jsx(ee,{open:d,handleClose:f,participants:l,currentWinners:c,onSave:I})]})},Y=(t,e)=>e!=null&&e.participant?s.jsx(pt,{children:s.jsx(mt,{primary:`${t}: ${e.participant.name} - ${e.participant.team} (Points: ${e.points})`})},`winner-${t}`):null;export{ie as default};
